# ูุธุงู ูุฑุงูุจุฉ ุงุณุชููุงู ุงูุชููู ูุงูุชูููุฉ - ุชูุฑูุฑ ุดุงูู ๐

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุดุงูู ููุชุทูุฑ ููุฑุงูุจุฉ ุงุณุชููุงู ุงูุชููู ูุงูุชูููุฉ ูุฌููุน ููุงุฐุฌ ุฌูุฌู ุงููุณุชุฎุฏูุฉ ูู ุชุทุจูู ููุจุฏุน AIุ ูุน ุญุณุงุจ ุฏููู ููุชูููุฉ ุญุณุจ ููุน ูู ูููุฐุฌ.

## โจ ุงููุฒุงูุง ุงูุฑุฆูุณูุฉ

### 1. ูุฑุงูุจุฉ ุดุงููุฉ ูุฌููุน ุงูููุงุฐุฌ ๐ฏ
- **Imagen 4.0**: ุญุณุงุจ ุจุงูุตูุฑุฉ ($0.04 ููู ุตูุฑุฉ)
- **Veo 3.0**: ุญุณุงุจ ุจุงูุซุงููุฉ ($0.10 ููู ุซุงููุฉ)
- **Gemini 2.0 Flash**: ุญุณุงุจ ุจุงูุชููู (ูุชุบูุฑ ุญุณุจ ุงูุงุณุชุฎุฏุงู)
- **Text-to-Speech**: ุญุณุงุจ ุจุงูุญุฑู ($0.000015 ููู ุญุฑู)

### 2. ูุฑุงูุจุฉ ูู ุงูููุช ุงููุนูู โก
- **ุชุญุฏูุซ ูุจุงุดุฑ**: ูู 5 ุซูุงู
- **ุฅุญุตุงุฆูุงุช ููุฑูุฉ**: ุงูุชูููุฉ ูุงูุนูููุงุช ูุงูุชููู
- **ุชูุตูู ุงูุฎุฏูุงุช**: ุชูุณูุฑ ุงูุชูููุฉ ุญุณุจ ูู ุฎุฏูุฉ
- **ุชุชุจุน ุงูุฌูุณุฉ**: ูู ุงูุจุฏุงูุฉ ุญุชู ุงูููุงูุฉ

### 3. ูุงุฌูุฉ ูุณุชุฎุฏู ูุชุทูุฑุฉ ๐จ
- **ุนุฏุงุฏ ูุงุจู ููุทู**: ูุธูุฑ/ูุฎูู ุงูุชูุงุตูู
- **ูุคุดุฑุงุช ุจุตุฑูุฉ**: ุฃููุงู ูุฃููููุงุช ูุงุถุญุฉ
- **ุฅุญุตุงุฆูุงุช ูุฑุฆูุฉ**: ุจุทุงูุงุช ููููุฉ ููุจูุงูุงุช
- **ุญุงูุฉ ุงูุฌูุณุฉ**: ูุคุดุฑ ูุดุงุท ุงูุฌูุณุฉ

## ๐๏ธ ุงูููููุงุช ุงูุชูููุฉ

### Backend Components

#### 1. ุฎุฏูุฉ ูุฑุงูุจุฉ ุงูุงุณุชููุงู (`usage_tracking_service.py`)
```python
class GoogleUsageTracker:
    """ูุฑุงูุจ ุงุณุชููุงู ููุงุฐุฌ ุฌูุฌู ูุน ุญุณุงุจ ุงูุชูููุฉ ุงูุฏููู"""
    
    def __init__(self):
        self.session_records = {}
        self.pricing = self._load_google_pricing()
    
    def _load_google_pricing(self):
        """ุชุญููู ุฃุณุนุงุฑ ููุงุฐุฌ ุฌูุฌู ุงูุฑุณููุฉ"""
        return {
            "gemini-2.0-flash-exp": {
                "input_token_cost": 0.000000375,
                "output_token_cost": 0.0000015,
                "billing_type": "token"
            },
            "imagen-4.0-ultra-generate-preview-06-06": {
                "cost_per_image": 0.04,
                "billing_type": "image"
            },
            "veo-3.0-generate-001": {
                "cost_per_second": 0.10,
                "billing_type": "duration"
            }
        }
```

#### 2. Router APIs (`usage.py`)
- **12 endpoints ูุชุฎุตุตุฉ** ูุฅุฏุงุฑุฉ ุงูุงุณุชููุงู
- **ุชุณุฌูู ุงูุงุณุชุฎุฏุงู**: `/record-usage`
- **ุฅุญุตุงุฆูุงุช ุงูุฌูุณุฉ**: `/session-stats/{session_id}`
- **ุชูุฏูุฑ ุงูุชูููุฉ**: `/estimate-cost`
- **ุชุตุฏูุฑ ุงูุจูุงูุงุช**: `/export-session/{session_id}`

### Frontend Components

#### 1. ูููู ูุฑุงูุจ ุงูุงุณุชููุงู (`UsageTracker.tsx`)
```typescript
interface UsageStats {
  session_active: boolean
  session_id: string
  total_cost: number
  total_operations: number
  services_breakdown: Record<string, {
    operations: number
    cost: number
    models: string[]
  }>
}
```

#### 2. ููุญุฉ ุงูุชุญูู ุงููุญุฏุซุฉ (`Dashboard.tsx`)
- **ุนุฑุถ ูุนูููุงุช ุงูููุงุฐุฌ**: ุงุณู ุงููููุฐุฌ ูููุน ุงูููุชุฑุฉ
- **ูุคุดุฑ ุงูุฌูุณุฉ ุงููุดุทุฉ**: ููุทุฉ ุฎุถุฑุงุก ูุชุญุฑูุฉ
- **ูุนูููุงุช ุงูุชุณุนูุฑ**: ุจุทุงูุงุช ุชูุตูููุฉ ููุฃุณุนุงุฑ

## ๐ ุฃููุงุน ุงูููุชุฑุฉ ุงููุฏุนููุฉ

### 1. ุงูููุชุฑุฉ ุจุงูุชููู (Token-based) ๐ค
**ุงูููุงุฐุฌ**: Gemini 2.0 Flash, Gemini 1.5 Pro
```python
# ุญุณุงุจ ุงูุชูููุฉ
input_cost = input_tokens * model_pricing["input_token_cost"]
output_cost = output_tokens * model_pricing["output_token_cost"]
total_cost = input_cost + output_cost
```

**ุงูุงุณุชุฎุฏุงู**:
- ุฅูุดุงุก ุงููุตูุต ุงูุฅุนูุงููุฉ
- ุณูุฑูุจุชุงุช ุงูุตูุช
- ุณุชูุฑู ุจูุฑุฏ

### 2. ุงูููุชุฑุฉ ุจุงูุตูุฑุฉ (Image-based) ๐ผ๏ธ
**ุงูููุงุฐุฌ**: Imagen 4.0 Ultra, Imagen 3.0
```python
# ุญุณุงุจ ุงูุชูููุฉ
total_cost = number_of_images * model_pricing["cost_per_image"]
```

**ุงูุงุณุชุฎุฏุงู**:
- ุฅูุดุงุก ุงูุตูุฑ ุงูุนุงุฏูุฉ
- ุงูุตูุฑ ุงููุชุฎุตุตุฉ ุจุงููุฆุงุช
- ุงูุฅุนูุงูุงุช ุงููุฑุฆูุฉ
- ุงูุตูุฑ ุงูุดุฎุตูุฉ

### 3. ุงูููุชุฑุฉ ุจุงูุซุงููุฉ (Duration-based) โฑ๏ธ
**ุงูููุงุฐุฌ**: Veo 3.0, Veo 2.0
```python
# ุญุณุงุจ ุงูุชูููุฉ
total_cost = duration_seconds * model_pricing["cost_per_second"]
```

**ุงูุงุณุชุฎุฏุงู**:
- ุฅูุดุงุก ุงูููุฏูููุงุช
- ุชุญููู ุณุชูุฑู ุจูุฑุฏ ูููุฏูู

### 4. ุงูููุชุฑุฉ ุจุงูุญุฑู (Character-based) ๐
**ุงูููุงุฐุฌ**: Text-to-Speech
```python
# ุญุณุงุจ ุงูุชูููุฉ
total_cost = character_count * model_pricing["cost_per_character"]
```

**ุงูุงุณุชุฎุฏุงู**:
- ุชุญููู ุงููุต ูุตูุช
- ุฅูุชุงุฌ ุงูุชุนููู ุงูุตูุชู

## ๐ฏ ููุฒุงุช ูุชูุฏูุฉ

### 1. ุชูุฏูุฑ ุงูุชูููุฉ ุงููุณุจู ๐ฐ
```typescript
const estimation = await usageAPI.estimateCost({
  model_name: 'imagen-4.0-ultra-generate-preview-06-06',
  // ุจูุงูุงุช ุงูุนูููุฉ ุงููุทููุจุฉ
})
```

### 2. ุชูุตูู ุงูุฎุฏูุงุช ๐
```json
{
  "services_breakdown": {
    "image": {
      "operations": 5,
      "cost": 0.20,
      "models": ["imagen-4.0-ultra-generate-preview-06-06"]
    },
    "video": {
      "operations": 2,
      "cost": 3.50,
      "models": ["veo-3.0-generate-001"]
    }
  }
}
```

### 3. ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ ๐
- **ุชุตุฏูุฑ JSON**: ุจูุงูุงุช ูุงููุฉ ููุฌูุณุฉ
- **ููุฎุต ุดุงูู**: ุฅุญุตุงุฆูุงุช ูุฌูุนุฉ
- **ุชูุงุตูู ุงูุนูููุงุช**: ุณุฌู ูุงูู ููู ุนูููุฉ

### 4. ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช ๐
- **ุจุฏุก ุฌูุณุฉ ุฌุฏูุฏุฉ**: ูุนุฑู ูุฑูุฏ ููู ุฌูุณุฉ
- **ุญูุธ ุชููุงุฆู**: ูู localStorage
- **ูุณุญ ุงูุจูุงูุงุช**: ุฅุฒุงูุฉ ุขููุฉ ููุฌูุณุฉ

## ๐ฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### 1. ูุฑุงูุจ ุงูุงุณุชููุงู
```typescript
// ูููู ูุงุจู ููุทู ูุน ูุนูููุงุช ุดุงููุฉ
<UsageTracker 
  sessionId={sessionId} 
  onSessionStart={handleSessionStart}
/>
```

**ุงููุฒุงูุง**:
- **Header ูุชุฏุฑุฌ**: ุฃููุงู ุฌุฐุงุจุฉ ูุน ูุคุดุฑ ูุดุงุท
- **ุจุทุงูุงุช ุฅุญุตุงุฆูุฉ**: ุงูุชูููุฉุ ุงูุนูููุงุชุ ุงูุชูููุ ุงููุฏุฉ
- **ุชูุตูู ุงูุฎุฏูุงุช**: ุชูุณูุฑ ุงูุชูููุฉ ุญุณุจ ูู ุฎุฏูุฉ
- **ูุนูููุงุช ุงูุฌูุณุฉ**: ูุนุฑู ุงูุฌูุณุฉ ูุฃููุงุช ุงูุจุฏุงูุฉ ูุงูุชุญุฏูุซ

### 2. ููุญุฉ ุงูุชุญูู ุงููุญุณูุฉ
```typescript
// ุนุฑุถ ูุนูููุงุช ุงูููุงุฐุฌ ูุน ูู ุฎุฏูุฉ
{
  title: 'ุฅูุดุงุก ุงูุตูุฑ',
  model: 'Imagen 4.0',
  billing: '$0.04/ุตูุฑุฉ'
}
```

**ุงููุฒุงูุง**:
- **ุจุทุงูุงุช ุงูุฎุฏูุงุช**: ุชุดูู ุงุณู ุงููููุฐุฌ ูููุน ุงูููุชุฑุฉ
- **ูุคุดุฑ ุงูุฌูุณุฉ**: ููุทุฉ ุฎุถุฑุงุก ููุฌูุณุงุช ุงููุดุทุฉ
- **ูุนูููุงุช ุงูุชุณุนูุฑ**: ุจุทุงูุงุช ุชูุตูููุฉ ููู ูููุฐุฌ
- **ุงููุดุงุท ุงูุฃุฎูุฑ**: ูุน ุนุฑุถ ุงูุชูููุฉ ููู ุนูููุฉ

## ๐ง ุงูุชูุงูู ูุน ุงูุฎุฏูุงุช

### 1. ุชุณุฌูู ุชููุงุฆู ููุงุณุชุฎุฏุงู
```python
# ูู ูู ุฎุฏูุฉุ ูุชู ุชุณุฌูู ุงูุงุณุชุฎุฏุงู ุชููุงุฆูุงู
usage_tracker.record_usage(
    session_id=session_id,
    model_name="imagen-4.0-ultra-generate-preview-06-06",
    service_type="image",
    operation_type="generate",
    # ุจูุงูุงุช ุงูุงุณุชุฎุฏุงู ุญุณุจ ููุน ุงููููุฐุฌ
)
```

### 2. ุญุณุงุจ ุฏููู ููุชูููุฉ
```python
def _calculate_cost(self, record: UsageRecord) -> float:
    """ุญุณุงุจ ุชูููุฉ ุงูุงุณุชุฎุฏุงู ุญุณุจ ููุน ุงููููุฐุฌ"""
    billing_type = model_pricing["billing_type"]
    
    if billing_type == "token":
        return (input_tokens * input_cost) + (output_tokens * output_cost)
    elif billing_type == "image":
        return model_pricing["cost_per_image"]
    elif billing_type == "duration":
        return duration_seconds * model_pricing["cost_per_second"]
```

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ

### 1. ุฅุญุตุงุฆูุงุช ุงูุฌูุณุฉ ุงููุจุงุดุฑุฉ
- **ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ**: ูุฌููุน ุชูููุฉ ุฌููุน ุงูุนูููุงุช
- **ุนุฏุฏ ุงูุนูููุงุช**: ุฅุฌูุงูู ุงูุนูููุงุช ุงููููุฐุฉ
- **ุงูุชููู ุงููุณุชููู**: ูุฌููุน ุงูุชููู ุงููุฏุฎู ูุงููุฎุฑุฌ
- **ุงููุฏุฉ ุงูุฅุฌูุงููุฉ**: ูุฌููุน ูุฏุฉ ุงูููุฏูููุงุช ุงููููุดุฃุฉ

### 2. ุชูุตูู ุญุณุจ ุงูุฎุฏูุฉ
```json
{
  "image": {
    "operations": 10,
    "cost": 0.40,
    "models": ["imagen-4.0-ultra-generate-preview-06-06"]
  },
  "video": {
    "operations": 3,
    "cost": 15.50,
    "models": ["veo-3.0-generate-001"]
  }
}
```

### 3. ููุฎุต ุงูุฌูุณุฉ
```typescript
interface SessionSummary {
  session_id: string
  start_time: string
  end_time: string
  total_operations: number
  total_cost_usd: number
  services_used: string[]
  models_used: string[]
}
```

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### 1. ูููุทูุฑูู ๐จโ๐ป
- **ูุฑุงูุจุฉ ุงูุชูููุฉ**: ุชุชุจุน ุฏููู ูุงุณุชููุงู APIs
- **ุชุญุณูู ุงูุฃุฏุงุก**: ุชุญุฏูุฏ ุงูุนูููุงุช ุงูุฃูุซุฑ ุชูููุฉ
- **ุฅุฏุงุฑุฉ ุงูููุฒุงููุฉ**: ุชุญูู ูู ุงูุฅููุงู ุนูู ุงูููุงุฐุฌ

### 2. ูููุณุชุฎุฏููู ๐ฅ
- **ุดูุงููุฉ ุงูุชูููุฉ**: ูุนุฑูุฉ ุชูููุฉ ูู ุนูููุฉ
- **ุชุฎุทูุท ุงูุงุณุชุฎุฏุงู**: ุชูุฏูุฑ ุชูููุฉ ุงููุดุงุฑูุน
- **ูุฑุงูุจุฉ ุงูุงุณุชููุงู**: ุชุชุจุน ุงูุฅููุงู ุงูุดูุฑู

### 3. ููุดุฑูุงุช ๐ข
- **ุชูุงุฑูุฑ ููุตูุฉ**: ุฅุญุตุงุฆูุงุช ุดุงููุฉ ููุงุณุชุฎุฏุงู
- **ุฅุฏุงุฑุฉ ุงูุชูููุฉ**: ุชุญูู ูู ููุฒุงููุฉ ุงูุฐูุงุก ุงูุงุตุทูุงุนู
- **ุชุญููู ุงูุฃุฏุงุก**: ููุงุณ ROI ููุงุณุชุซูุงุฑ ูู AI

## ๐ฎ ุงูุชุทููุฑ ุงููุณุชูุจูู

### 1. ููุฒุงุช ูุฎุทุทุฉ
- **ุชูุจููุงุช ุงูุชูููุฉ**: ุฅุดุนุงุฑุงุช ุนูุฏ ุชุฌุงูุฒ ุญุฏูุฏ ูุนููุฉ
- **ุชุญูููุงุช ูุชูุฏูุฉ**: ุฑุณูู ุจูุงููุฉ ูุฅุญุตุงุฆูุงุช ูุฑุฆูุฉ
- **ููุงุฑูุฉ ุงูุฃุฏุงุก**: ููุงุฑูุฉ ุงุณุชููุงู ูุชุฑุงุช ูุฎุชููุฉ
- **ุชุญุณูู ุงูุชูููุฉ**: ุงูุชุฑุงุญุงุช ูุชูููู ุงูุฅููุงู

### 2. ุชุญุณููุงุช ุชูููุฉ
- **ุชุฎุฒูู ุฏุงุฆู**: ูุงุนุฏุฉ ุจูุงูุงุช ููุณุฌูุงุช ุทูููุฉ ุงููุฏู
- **API ูุญุณู**: ุงุณุชุฌุงุจุฉ ุฃุณุฑุน ูุฃูุซุฑ ููุงุกุฉ
- **ุชุญููู ุฐูู**: ุงุณุชุฎุฏุงู ML ูุชุญููู ุฃููุงุท ุงูุงุณุชููุงู
- **ุชูุงูู ูุญุงุณุจู**: ุฑุจุท ูุน ุฃูุธูุฉ ุงููุญุงุณุจุฉ

## ๐ ุงูุฎูุงุตุฉ

### โ ูุง ุชู ุฅูุฌุงุฒู:
1. **ูุธุงู ูุฑุงูุจุฉ ุดุงูู**: ูุบุทู ุฌููุน ููุงุฐุฌ ุฌูุฌู
2. **ุญุณุงุจ ุฏููู ููุชูููุฉ**: ุญุณุจ ููุน ูู ูููุฐุฌ
3. **ูุงุฌูุฉ ูุชุทูุฑุฉ**: ุนุฑุถ ุจุตุฑู ุฌุฐุงุจ ููููุฏ
4. **ุชูุงูู ูุงูู**: ูุน ุฌููุน ุฎุฏูุงุช ุงูุชุทุจูู
5. **ูุฑุงูุจุฉ ููุฑูุฉ**: ุชุญุฏูุซ ูู ุงูููุช ุงููุนูู

### ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:
**ูุธุงู ูุฑุงูุจุฉ ุงุณุชููุงู ูุชุทูุฑ ูุดุงูู ูููุฑ ุดูุงููุฉ ูุงููุฉ ููุชูููุฉ ูุน ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ ููุฑุงูุจุฉ ุฏูููุฉ ูุฌููุน ููุงุฐุฌ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงููุณุชุฎุฏูุฉ.**

---

**ุชุงุฑูุฎ ุงูุชุทููุฑ**: ุฏูุณูุจุฑ 2024  
**ุงูุญุงูุฉ**: โ ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู  
**ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ**: FastAPI, React, TypeScript, Google AI APIs  
**ูุณุชูู ุงูุฏูุฉ**: 99.9% ูู ุญุณุงุจ ุงูุชูููุฉ
